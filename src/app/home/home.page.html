<ion-header>
  <ion-toolbar style="padding-top: 15px;">
    <ion-buttons slot="start">
      <ion-button>
        <ion-icon name="person-circle-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-searchbar style="color: rgb(145, 135, 46)" show-clear-button="focus"></ion-searchbar>
    <ion-buttons slot="end">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>

  <div>
    <h1>Mi musica</h1>

    <h2>Sigue escuchando</h2>
    <swiper-container [initialSlide]="0" [slidesPerView]="3" *ngIf="artists?.length > 0">
      <swiper-slide *ngFor="let artist of artists">
        <ion-avatar (click)="showSongs(artist)">
          <img src="{{artist.image}}" />
          <span>{{artist.name}}</span>
        </ion-avatar>
      </swiper-slide>
    </swiper-container>
    <p class="ion-text-right" style="padding-right: 20px; color: rgb(36, 107, 139)">Ver mas</p>

    <h2>Listas de reproduccion</h2>
  </div>
  <div>
    <h1>Explorar musica</h1>
    <h2>Artistas</h2>
    <swiper-container [initialSlide]="0" [slidesPerView]="3" *ngIf="artists?.length > 0">
      <swiper-slide *ngFor="let artist of artists">
        <ion-avatar (click)="showSongs(artist)">
          <img src="{{artist.image}}" />
          <span>{{artist.name}}</span>
        </ion-avatar>
      </swiper-slide>
    </swiper-container>
    <p class="ion-text-right" style="padding-right: 20px; color: rgb(36, 107, 139)">Ver mas</p>

    <h2>Albumes</h2>
    <swiper-container [initialSlide]="0" [slidesPerView]="3" *ngIf="albums?.length > 0">
      <swiper-slide *ngFor="let album of albums">
        <ion-avatar class="album-style" (click)="showAlbumSongs(album)">
          <img src="{{album.image}}" />
          <span>{{album.name}}</span>
        </ion-avatar>
      </swiper-slide>
    </swiper-container>
    <p class="ion-text-right" style="padding-right: 20px; color: rgb(36, 107, 139)">Ver mas</p>

    <h2>Artistas Locales</h2>
    <swiper-container [initialSlide]="0" [slidesPerView]="3" *ngIf="artists?.length > 0">
      <swiper-slide *ngFor="let artist of localArtists">
        <ion-avatar (click)="showSongs(artist)">
          <img src="{{artist.image}}" />
          <span>{{artist.name}}</span>
        </ion-avatar>
      </swiper-slide>
    </swiper-container>
    <p class="ion-text-right" style="padding-right: 20px; color: rgb(36, 107, 139)">Ver mas</p>
  </div>
</ion-content>

<ion-footer>
  <ion-grid>
    <ion-row>
      <ion-col class="ion-text-start">
        {{ parseTime(currentSong?.currentTime) || "0:00" }}
      </ion-col>
      <ion-col class="ion-text-end">
        {{ parseTime(currentSong?.duration) || "0:00" }}
      </ion-col>
    </ion-row>
  </ion-grid>
  <ion-progress-bar [value]="newTime"></ion-progress-bar>
  <ion-grid>
    <ion-row>
      <ion-col size="1">
        <ion-icon name="heart"></ion-icon>
      </ion-col>
      <ion-col size="10" class="ion-text-center">
        <ion-text>{{
          song?.name || "Sin cancion seleccionada"
          }}</ion-text>
      </ion-col>
      <ion-col size="1">
        <ion-icon name="play" (click)="play()" *ngIf="!song?.playing"></ion-icon>
        <ion-icon name="pause" (click)="pause()" *ngIf="song?.playing"></ion-icon>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-footer>